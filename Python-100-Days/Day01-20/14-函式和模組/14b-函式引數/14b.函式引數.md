## 函式引數

在上一節中，我們學會了如何定義和呼叫函式。本節將深入探討函式引數的各種用法，包括位置引數、關鍵字引數、預設值和可變引數。

### 位置引數和關鍵字引數

我們來寫一個函式，根據給出的三條邊的長度判斷是否可以構成三角形，如果可以構成三角形則返回`True`，否則返回`False`，程式碼如下所示。

```python
def make_judgement(a, b, c):
    """判斷三條邊的長度能否構成三角形"""
    return a + b > c and b + c > a and a + c > b
```

上面`make_judgement`函式有三個引數，這種引數叫做位置引數，在呼叫函式時通常按照從左到右的順序依次傳入，而且傳入引數的數量必須和定義函式時引數的數量相同，如下所示。

```python
print(make_judgement(1, 2, 3))  # False
print(make_judgement(4, 5, 6))  # True
```

如果不想按照從左到右的順序依次給出`a`、`b`、`c` 三個引數的值，也可以使用關鍵字引數，透過"引數名=引數值"的形式為函式傳入引數，如下所示。

```python
print(make_judgement(b=2, c=3, a=1))  # False
print(make_judgement(c=6, b=4, a=5))  # True
```

### 強制位置引數和命名關鍵字引數

在定義函式時，我們可以在引數列表中用`/`設定**強制位置引數**（*positional-only arguments*），用`*`設定**命名關鍵字引數**。所謂強制位置引數，就是呼叫函式時只能按照引數位置來接收引數值的引數；而命名關鍵字引數只能透過"引數名=引數值"的方式來傳遞和接收引數，大家可以看看下面的例子。

```python
# /前面的引數是強制位置引數
def make_judgement(a, b, c, /):
    """判斷三條邊的長度能否構成三角形"""
    return a + b > c and b + c > a and a + c > b


# 下面的程式碼會產生TypeError錯誤，錯誤資訊提示"強制位置引數是不允許給出引數名的"
# TypeError: make_judgement() got some positional-only arguments passed as keyword arguments
# print(make_judgement(b=2, c=3, a=1))
```

> **說明**：強制位置引數是 Python 3.8 引入的新特性，在使用低版本的 Python 直譯器時需要注意。

```python
# *後面的引數是命名關鍵字引數
def make_judgement(*, a, b, c):
    """判斷三條邊的長度能否構成三角形"""
    return a + b > c and b + c > a and a + c > b


# 下面的程式碼會產生TypeError錯誤，錯誤資訊提示"函式沒有位置引數但卻給了3個位置引數"
# TypeError: make_judgement() takes 0 positional arguments but 3 were given
# print(make_judgement(1, 2, 3))
```

### 引數的預設值

Python 中允許函式的引數擁有預設值，我們可以把之前講過的一個例子"CRAPS賭博遊戲"（《第07課：分支和迴圈結構的應用》）中搖色子獲得點數的功能封裝到函式中，程式碼如下所示。

```python
from random import randrange


# 定義搖色子的函式
# 函式的自變數（引數）n表示色子的個數，預設值為2
# 函式的因變數（返回值）表示搖n顆色子得到的點數
def roll_dice(n=2):
    total = 0
    for _ in range(n):
        total += randrange(1, 7)
    return total


# 如果沒有指定引數，那麼n使用預設值2，表示搖兩顆色子
print(roll_dice())
# 傳入引數3，變數n被賦值為3，表示搖三顆色子獲得點數
print(roll_dice(3))
```

我們再來看一個更為簡單的例子。

```python
def add(a=0, b=0, c=0):
    """三個數相加求和"""
    return a + b + c


# 呼叫add函式，沒有傳入引數，那麼a、b、c都使用預設值0
print(add())         # 0
# 呼叫add函式，傳入一個引數，該引數賦值給變數a, 變數b和c使用預設值0
print(add(1))        # 1
# 呼叫add函式，傳入兩個引數，分別賦值給變數a和b，變數c使用預設值0
print(add(1, 2))     # 3
# 呼叫add函式，傳入三個引數，分別賦值給a、b、c三個變數
print(add(1, 2, 3))  # 6
```

需要注意的是，**帶預設值的引數必須放在不帶預設值的引數之後**，否則將產生`SyntaxError`錯誤，錯誤訊息是：`non-default argument follows default argument`，翻譯成中文的意思是"沒有預設值的引數放在了帶預設值的引數後面"。

### 可變引數

Python 語言中可以透過星號表示式語法讓函式支援可變引數。所謂可變引數指的是在呼叫函式時，可以向函式傳入`0`個或任意多個引數。將來我們以團隊協作的方式開發商業專案時，很有可能要設計函式給其他人使用，但有的時候我們並不知道函式的呼叫者會向該函式傳入多少個引數，這個時候可變引數就能派上用場。

下面的程式碼演示瞭如何使用可變位置引數實現對任意多個數求和的`add`函式，呼叫函式時傳入的引數會儲存到一個元組，透過對該元組的遍歷，可以獲取傳入函式的引數。

```python
# 用星號表示式來表示args可以接收0個或任意多個引數
# 呼叫函式時傳入的n個引數會組裝成一個n元組賦給args
# 如果一個引數都沒有傳入，那麼args會是一個空元組
def add(*args):
    total = 0
    # 對儲存可變引數的元組進行迴圈遍歷
    for val in args:
        # 對引數進行了型別檢查（數值型的才能求和）
        if type(val) in (int, float):
            total += val
    return total


# 在呼叫add函式時可以傳入0個或任意多個引數
print(add())         # 0
print(add(1))        # 1
print(add(1, 2, 3))  # 6
print(add(1, 2, 'hello', 3.45, 6))  # 12.45
```

### 可變關鍵字引數

如果我們希望透過"引數名=引數值"的形式傳入若干個引數，具體有多少個引數也是不確定的，我們還可以給函式新增可變關鍵字引數，把傳入的關鍵字引數組裝到一個字典中，程式碼如下所示。

```python
# 引數列表中的**kwargs可以接收0個或任意多個關鍵字引數
# 呼叫函式時傳入的關鍵字引數會組裝成一個字典（引數名是字典中的鍵，引數值是字典中的值）
# 如果一個關鍵字引數都沒有傳入，那麼kwargs會是一個空字典
def foo(*args, **kwargs):
    print(args)
    print(kwargs)


foo(3, 2.1, True, name='Kevin', age=43, gpa=4.95)
```

輸出：

```
(3, 2.1, True)
{'name': 'Kevin', 'age': 43, 'gpa': 4.95}
```

### 總結

Python 函式的引數非常靈活，包括：

1. **位置引數**：按順序傳入
2. **關鍵字引數**：透過"引數名=引數值"傳入
3. **預設值引數**：可以不傳入，使用預設值
4. **可變位置引數（`*args`）**：接收任意多個位置引數，組裝成元組
5. **可變關鍵字引數（`**kwargs`）**：接收任意多個關鍵字引數，組裝成字典

掌握這些引數用法，可以讓我們設計出更加靈活的函式。
