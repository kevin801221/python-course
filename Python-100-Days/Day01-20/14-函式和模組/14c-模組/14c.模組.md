## 用模組管理函式

不管用什麼樣的程式語言來寫程式碼，給變數、函式起名字都是一個讓人頭疼的問題，因為我們會遇到**命名衝突**這種尷尬的情況。最簡單的場景就是在同一個`.py`檔案中定義了兩個同名的函式，如下所示。

```python
def foo():
    print('hello, world!')


def foo():
    print('goodbye, world!')


foo()  # 大家猜猜呼叫foo函式會輸出什麼
```

當然上面的這種情況我們很容易就能避免，但是如果專案是團隊協作多人開發的時候，團隊中可能有多個程式設計師都定義了名為`foo`的函式，這種情況下怎麼解決命名衝突呢？

### 使用模組

答案其實很簡單，Python 中每個檔案就代表了一個模組（module），我們在不同的模組中可以有同名的函式，在使用函式的時候，我們透過`import`關鍵字匯入指定的模組再使用**完全限定名**（`模組名.函式名`）的呼叫方式，就可以區分到底要使用的是哪個模組中的`foo`函式，程式碼如下所示。

`module1.py`

```python
def foo():
    print('hello, world!')
```

`module2.py`

```python
def foo():
    print('goodbye, world!')
```

`test.py`

```python
import module1
import module2

# 用"模組名.函式名"的方式（完全限定名）呼叫函式，
module1.foo()  # hello, world!
module2.foo()  # goodbye, world!
```

### 使用別名

在匯入模組時，還可以使用`as`關鍵字對模組進行別名，這樣我們可以使用更為簡短的完全限定名。

`test.py`

```python
import module1 as m1
import module2 as m2

m1.foo()  # hello, world!
m2.foo()  # goodbye, world!
```

### 直接匯入函式

上面兩段程式碼，我們匯入的是定義函式的模組，我們也可以使用`from...import...`語法從模組中直接匯入需要使用的函式，程式碼如下所示。

`test.py`

```python
from module1 import foo

foo()  # hello, world!

from module2 import foo

foo()  # goodbye, world!
```

但是，如果我們如果從兩個不同的模組中匯入了同名的函式，後面匯入的函式會替換掉之前的匯入，就像下面的程式碼，呼叫`foo`會輸出`goodbye, world!`，因為我們先匯入了`module1`的`foo`，後匯入了`module2`的`foo` 。如果兩個`from...import...`反過來寫，那就是另外一番光景了。

`test.py`

```python
from module1 import foo
from module2 import foo

foo()  # goodbye, world!
```

如果想在上面的程式碼中同時使用來自兩個模組的`foo`函式還是有辦法的，大家可能已經猜到了，還是用`as`關鍵字對匯入的函式進行別名，程式碼如下所示。

`test.py`

```python
from module1 import foo as f1
from module2 import foo as f2

f1()  # hello, world!
f2()  # goodbye, world!
```

### 標準庫中的模組和函式

Python 標準庫中提供了大量的模組和函式來簡化我們的開發工作，我們之前用過的`random`模組就為我們提供了生成隨機數和進行隨機抽樣的函式；而`time`模組則提供了和時間操作相關的函式；我們之前用到過的`math`模組中還包括了計算正弦、餘弦、指數、對數等一系列的數學函式。隨著我們深入學習 Python 語言，我們還會用到更多的模組和函式。

### 內建函式

Python 標準庫中還有一類函式是不需要`import`就能夠直接使用的，我們將其稱之為**內建函式**，這些內建函式不僅有用而且還很常用，下面的表格列出了一部分的內建函式。

| 函式    | 說明                                                         |
| ------- | ------------------------------------------------------------ |
| `abs`   | 返回一個數的絕對值，例如：`abs(-1.3)`會返回`1.3`。           |
| `bin`   | 把一個整數轉換成以`'0b'`開頭的二進位制字串，例如：`bin(123)`會返回`'0b1111011'`。 |
| `chr`   | 將Unicode編碼轉換成對應的字元，例如：`chr(8364)`會返回`'€'`。 |
| `hex`   | 將一個整數轉換成以`'0x'`開頭的十六進位制字串，例如：`hex(123)`會返回`'0x7b'`。 |
| `input` | 從輸入中讀取一行，返回讀到的字串。                         |
| `len`   | 獲取字串、列表等的長度。                                   |
| `max`   | 返回多個引數或一個可迭代物件中的最大值，例如：`max(12, 95, 37)`會返回`95`。 |
| `min`   | 返回多個引數或一個可迭代物件中的最小值，例如：`min(12, 95, 37)`會返回`12`。 |
| `oct`   | 把一個整數轉換成以`'0o'`開頭的八進位制字串，例如：`oct(123)`會返回`'0o173'`。 |
| `open`  | 開啟一個檔案並返回檔案物件。                                 |
| `ord`   | 將字元轉換成對應的Unicode編碼，例如：`ord('€')`會返回`8364`。 |
| `pow`   | 求冪運算，例如：`pow(2, 3)`會返回`8`；`pow(2, 0.5)`會返回`1.4142135623730951`。 |
| `print` | 列印輸出。                                                   |
| `range` | 構造一個範圍序列，例如：`range(100)`會產生`0`到`99`的整數序列。 |
| `round` | 按照指定的精度對數值進行四捨五入，例如：`round(1.23456, 4)`會返回`1.2346`。 |
| `sum`   | 對一個序列中的項從左到右進行求和運算，例如：`sum(range(1, 101))`會返回`5050`。 |
| `type`  | 返回物件的型別，例如：`type(10)`會返回`int`；而` type('hello')`會返回`str`。 |

###  總結

Python 語言的標準庫中已經為我們提供了大量的模組和常用的函式，用好這些模組和函式就能夠用更少的程式碼做更多的事情。當這些模組和函式不能滿足我們的要求時，可能就需要自定義函式，然後再透過模組的概念來管理這些自定義函式，避免命名衝突。
