"""
個人資料管理器（進階版）- Personal Data Manager Advanced
=========================================================

【學習目標】
這是「個人資料管理器」的進階版本，包含練習題的解答。
透過這個範例，你將學會：
1. 字串（str）：儲存文字
2. 整數（int）：儲存整數
3. 浮點數（float）：儲存小數
4. 布林值（bool）：儲存 True/False
5. 條件判斷（if-else）：根據條件執行不同程式碼
6. 日期計算：使用 datetime 模組

【前置知識】
- 第 02 課：print()、input()
- 第 03 課：變數
- 第 05 課：分支結構（if-else）

【程式碼難度】★★☆☆☆ 基礎級

【新增功能】
- 基礎練習：興趣、存款金額
- 進階練習：BMI 健康狀態判斷
- 挑戰練習：精確年齡計算
"""

# ============================================================
# 匯入必要的模組（挑戰練習需要）
# ============================================================
from datetime import date  # 用於計算精確年齡

# ============================================================
# 第一步：顯示歡迎訊息
# ============================================================
print("=" * 50)
print("       個人資料卡製作器（進階版）")
print("=" * 50)
print()

# ============================================================
# 第二步：收集基本資料（字串類型 str）
# ============================================================
print("【請輸入您的基本資料】")
print("-" * 50)

# 姓名（字串）
name = input("請輸入您的姓名：")

# 電子郵件（字串）
email = input("請輸入您的電子郵件：")

# 職業（字串）
job = input("請輸入您的職業：")

# ★ 基礎練習：增加「興趣」輸入（字串類型）
hobby = input("請輸入您的興趣：")

# ============================================================
# 第三步：收集數字資料（整數 int 和浮點數 float）
# ============================================================
print()
print("【請輸入您的數值資料】")
print("-" * 50)

# 身高（浮點數）
height = float(input("請輸入您的身高（公分）："))

# 體重（浮點數）
weight = float(input("請輸入您的體重（公斤）："))

# ★ 基礎練習：增加「存款金額」輸入（浮點數類型）
savings = float(input("請輸入您的存款金額（元）："))

# ============================================================
# 第四步：收集生日資料（挑戰練習）
# ============================================================
print()
print("【請輸入您的生日】")
print("-" * 50)

# ★ 挑戰練習：輸入生日（年、月、日）
birth_year = int(input("請輸入出生年份（西元年）："))
birth_month = int(input("請輸入出生月份（1-12）："))
birth_day = int(input("請輸入出生日期（1-31）："))

# ============================================================
# 第五步：收集是非題資料（布林值 bool）
# ============================================================
print()
print("【請回答以下問題】")
print("-" * 50)

# 詢問是否為學生
student_answer = input("您是學生嗎？(y/n)：")
is_student = (student_answer == "y")

# 詢問是否有駕照
license_answer = input("您有駕照嗎？(y/n)：")
has_license = (license_answer == "y")

# ============================================================
# 第六步：計算衍生資料
# ============================================================

# 計算 BMI
height_m = height / 100
bmi = weight / (height_m * height_m)

# ★ 進階練習：根據 BMI 值判斷健康狀態
if bmi < 18.5:
    bmi_status = "過輕"
    bmi_advice = "建議增加營養攝取，適度運動增肌"
elif bmi < 24:
    bmi_status = "正常"
    bmi_advice = "請繼續保持良好的生活習慣"
else:
    bmi_status = "過重"
    bmi_advice = "建議控制飲食，增加有氧運動"

# ★ 挑戰練習：計算精確年齡
today = date.today()
birthday = date(birth_year, birth_month, birth_day)

# 計算年齡（考慮是否已過生日）
age = today.year - birth_year

# 如果今年的生日還沒到，年齡要減 1
if (today.month, today.day) < (birth_month, birth_day):
    age -= 1

# 計算距離下次生日的天數
next_birthday_year = today.year
if (today.month, today.day) >= (birth_month, birth_day):
    next_birthday_year += 1
next_birthday = date(next_birthday_year, birth_month, birth_day)
days_to_birthday = (next_birthday - today).days

# ============================================================
# 第七步：輸出個人資料卡
# ============================================================
print()
print("=" * 50)
print("           您的個人資料卡")
print("=" * 50)

# 基本資料
print()
print("【基本資料】")
print(f"  姓名：{name}")
print(f"  電子郵件：{email}")
print(f"  職業：{job}")
print(f"  興趣：{hobby}")  # ★ 基礎練習

# 生日與年齡資料
print()
print("【生日與年齡】")
print(f"  生日：{birth_year} 年 {birth_month} 月 {birth_day} 日")
print(f"  年齡：{age} 歲")  # ★ 挑戰練習：精確年齡
print(f"  距離下次生日：{days_to_birthday} 天")

# 身體資料
print()
print("【身體資料】")
print(f"  身高：{height} 公分")
print(f"  體重：{weight} 公斤")
print(f"  BMI：{bmi:.1f}")
print(f"  健康狀態：{bmi_status}")  # ★ 進階練習
print(f"  建議：{bmi_advice}")

# 財務資料
print()
print("【財務資料】")
print(f"  存款金額：{savings:,.0f} 元")  # ★ 基礎練習，使用千分位格式

# 是非題資料
print()
print("【其他資訊】")
student_text = "是" if is_student else "否"
license_text = "是" if has_license else "否"
print(f"  學生身份：{student_text}")
print(f"  持有駕照：{license_text}")

# ============================================================
# 第八步：顯示變數類型說明
# ============================================================
print()
print("=" * 50)
print("           變數類型說明")
print("=" * 50)
print()
print("【這個程式用到的變數類型】")
print()
print(f"  name = '{name}'")
print(f"       類型：{type(name)}")
print()
print(f"  age = {age}")
print(f"       類型：{type(age)}")
print()
print(f"  height = {height}")
print(f"       類型：{type(height)}")
print()
print(f"  savings = {savings}")
print(f"       類型：{type(savings)}")
print()
print(f"  is_student = {is_student}")
print(f"       類型：{type(is_student)}")

print()
print("=" * 50)
print("  個人資料卡製作完成！")
print("=" * 50)


# ============================================================
# 【練習題解答說明】
# ============================================================
"""
本程式包含以下練習題的解答：

1. 基礎練習：
   ✓ 增加「興趣」輸入 → hobby = input("請輸入您的興趣：")
   ✓ 增加「存款金額」輸入 → savings = float(input(...))

2. 進階練習：
   ✓ BMI 健康狀態判斷 → 使用 if-elif-else 結構
     - BMI < 18.5：過輕
     - 18.5 <= BMI < 24：正常
     - BMI >= 24：過重

3. 挑戰練習：
   ✓ 精確年齡計算 → 使用 datetime 模組
     - 輸入年、月、日
     - 比較今天日期與生日
     - 如果今年生日還沒到，年齡減 1
     - 額外計算距離下次生日的天數
"""


# ============================================================
# 【執行結果範例】
# ============================================================
"""
==================================================
       個人資料卡製作器（進階版）
==================================================

【請輸入您的基本資料】
--------------------------------------------------
請輸入您的姓名：Kevin
請輸入您的電子郵件：kevin@example.com
請輸入您的職業：工程師
請輸入您的興趣：程式設計

【請輸入您的數值資料】
--------------------------------------------------
請輸入您的身高（公分）：175
請輸入您的體重（公斤）：70
請輸入您的存款金額（元）：150000

【請輸入您的生日】
--------------------------------------------------
請輸入出生年份（西元年）：1994
請輸入出生月份（1-12）：6
請輸入出生日期（1-31）：15

【請回答以下問題】
--------------------------------------------------
您是學生嗎？(y/n)：n
您有駕照嗎？(y/n)：y

==================================================
           您的個人資料卡
==================================================

【基本資料】
  姓名：Kevin
  電子郵件：kevin@example.com
  職業：工程師
  興趣：程式設計

【生日與年齡】
  生日：1994 年 6 月 15 日
  年齡：30 歲
  距離下次生日：171 天

【身體資料】
  身高：175.0 公分
  體重：70.0 公斤
  BMI：22.9
  健康狀態：正常
  建議：請繼續保持良好的生活習慣

【財務資料】
  存款金額：150,000 元

【其他資訊】
  學生身份：否
  持有駕照：是

==================================================
           變數類型說明
==================================================

【這個程式用到的變數類型】

  name = 'Kevin'
       類型：<class 'str'>

  age = 30
       類型：<class 'int'>

  height = 175.0
       類型：<class 'float'>

  savings = 150000.0
       類型：<class 'float'>

  is_student = False
       類型：<class 'bool'>

==================================================
  個人資料卡製作完成！
==================================================
"""
