## 列表的方法

列表型別的變數擁有很多方法可以幫助我們操作一個列表，假設我們有名為`foos`的列表，列表有名為`bar`的方法，那麼使用列表方法的語法是：`foos.bar()`，這是一種透過物件引用呼叫物件方法的語法。後面我們講物件導向程式設計的時候，還會對這種語法進行詳細的講解，這種語法也稱為給物件發訊息。

### 新增和刪除元素

列表是一種可變容器，可變容器指的是我們可以向容器中新增元素、可以從容器移除元素，也可以修改現有容器中的元素。我們可以使用列表的`append`方法向列表中追加元素，使用`insert`方法向列表中插入元素。追加指的是將元素新增到列表的末尾，而插入則是在指定的位置新增新元素，大家可以看看下面的程式碼。

```python
languages = ['Python', 'Java', 'C++']
languages.append('JavaScript')
print(languages)  # ['Python', 'Java', 'C++', 'JavaScript']
languages.insert(1, 'SQL')
print(languages)  # ['Python', 'SQL', 'Java', 'C++', 'JavaScript']
```

我們可以用列表的`remove`方法從列表中刪除指定元素，需要注意的是，如果要刪除的元素並不在列表中，會引發`ValueError`錯誤導致程式崩潰，所以建議大家在刪除元素時，先用之前講過的成員運算做一個判斷。我們還可以使用`pop`方法從列表中刪除元素，`pop`方法預設刪除列表中的最後一個元素，當然也可以給一個位置，刪除指定位置的元素。在使用`pop`方法刪除元素時，如果索引的值超出了範圍，會引發`IndexError`異常，導致程式崩潰。除此之外，列表還有一個`clear`方法，可以清空列表中的元素，程式碼如下所示。

```python
languages = ['Python', 'SQL', 'Java', 'C++', 'JavaScript']
if 'Java' in languages:
    languages.remove('Java')
if 'Swift' in languages:
    languages.remove('Swift')
print(languages)  # ['Python', 'SQL', C++', 'JavaScript']
languages.pop()
temp = languages.pop(1)
print(temp)       # SQL
languages.append(temp)
print(languages)  # ['Python', C++', 'SQL']
languages.clear()
print(languages)  # []
```

> **說明**：`pop`方法刪除元素時會得到被刪除的元素，上面的程式碼中，我們將`pop`方法刪除的元素賦值給了名為`temp`的變數。當然如果你願意，還可以把這個元素再次加入到列表中，正如上面的程式碼`languages.append(temp)`所做的那樣。

這裡還有一個小問題，例如`languages`列表中有多個`'Python'`，那麼我們用`languages.remove('Python')`是刪除所有的`'Python'`，還是刪除第一個`'Python'`，大家可以先猜一猜，然後再自己動手嘗試一下。

### 使用 del 關鍵字刪除

從列表中刪除元素其實還有一種方式，就是使用 Python 中的`del`關鍵字後面跟要刪除的元素，這種做法跟使用`pop`方法指定索引刪除元素沒有實質性的區別，但後者會返回刪除的元素，前者在效能上略優，因為`del`對應的底層位元組碼指令是`DELETE_SUBSCR`，而`pop`對應的底層位元組碼指令是`CALL_METHOD`和`POP_TOP`，如果不理解就不用管它了。

```python
items = ['Python', 'Java', 'C++']
del items[1]
print(items)  # ['Python', 'C++']
```

### 元素位置和頻次

列表的`index`方法可以查詢某個元素在列表中的索引位置，如果找不到指定的元素，`index`方法會引發`ValueError`錯誤；列表的`count`方法可以統計一個元素在列表中出現的次數，程式碼如下所示。

```python
items = ['Python', 'Java', 'Java', 'C++', 'Kotlin', 'Python']
print(items.index('Python'))     # 0
# 從索引位置1開始查詢'Python'
print(items.index('Python', 1))  # 5
print(items.count('Python'))     # 2
print(items.count('Kotlin'))     # 1
print(items.count('Swfit'))      # 0
# 從索引位置3開始查詢'Java'
print(items.index('Java', 3))    # ValueError: 'Java' is not in list
```

### 元素排序和反轉

列表的`sort`操作可以實現列表元素的排序，而`reverse`操作可以實現元素的反轉，程式碼如下所示。

```python
items = ['Python', 'Java', 'C++', 'Kotlin', 'Swift']
items.sort()
print(items)  # ['C++', 'Java', 'Kotlin', 'Python', 'Swift']
items.reverse()
print(items)  # ['Swift', 'Python', 'Kotlin', 'Java', 'C++']
```

### 方法總結

列表常用的方法包括：

| 方法 | 說明 |
|------|------|
| `append(x)` | 在列表末尾追加元素 `x` |
| `insert(i, x)` | 在位置 `i` 插入元素 `x` |
| `remove(x)` | 刪除第一個值為 `x` 的元素 |
| `pop(i)` | 刪除並返回位置 `i` 的元素（預設最後一個） |
| `clear()` | 清空列表 |
| `index(x)` | 返回元素 `x` 的索引位置 |
| `count(x)` | 統計元素 `x` 出現的次數 |
| `sort()` | 對列表進行排序 |
| `reverse()` | 反轉列表 |

掌握這些方法，可以讓我們更高效地操作列表。
