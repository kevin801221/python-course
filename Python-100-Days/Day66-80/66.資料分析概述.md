## 資料分析概述

當今世界，各行各業對資訊科技的依賴程度在不斷加深，每天都會有大量的資料產生，我們常常會感到資料越來越多，但是要從中發現有價值的資訊卻越來越難。這裡所說的資訊，可以理解為對資料集處理之後的結果，是從資料集中提煉出的可用於支撐和指導決策的東西，而**從原始資料中抽取出有價值的資訊**的這個過程我們就稱之為**資料分析**，它是資料科學的重要組成部分。

<img src="res/data_science.png" style="zoom:50%;">

> **定義1**：資料分析是有針對性的收集、加工、整理資料並採用統計、挖掘等技術對資料進行探索、分析、呈現和解釋的科學。
>
> **定義2**：資料分析是透過收集、整理和分析資料，從中提取有價值的資訊和洞察，以支援決策和最佳化過程的活動。（GPT-4o）
>
> **定義3**：資料分析是透過系統性的收集、整理、處理、檢驗和解釋資料，從中提取有價值的資訊、形成結論並支援決策的過程，其核心是利用統計、演算法和邏輯方法揭示資料背後的規律、趨勢或關聯。（DeepSeek）

對於想從事資料分析工作的人來說，需要掌握兩個部分的技能，一是“資料思維”，二是“分析工具”，如下圖所示。

![](res/contents_of_data_analysis.png)

上圖中，分析工具部分其實是比較容易掌握的，像 SQL 或 Python 這樣的程式語言，只要經過系統的學習和適量的練習，大部分人都是可以駕馭的；像 Power BI、Tableau 這樣的商業智慧工具，更是讓我們透過“拖拉拽”操作就能完成資料的視覺化並在此基礎上產生商業洞察，上手難度會更低。相反，資料思維部分的內容對大多數新手來說是不太容易駕馭的，例如“統計思維”，很多人在讀書的時候都學習過“機率論和統計學”這樣的課程，但是當面對實際的業務場景時，卻很難將這些知識對映到業務場景來解決現實的問題。此外，如果沒有掌握基本的分析方法、沒有理解常用的分析模型，沒有相關業務知識的積累，即便我們拿到再多有用的資料，也會感覺無從下手，更不用說產生業務洞察發現商業價值了。所以，資料思維這個部分，除了系統的學習相關知識技能，還需要不斷的在實際業務場景中積累和沉澱。

### 資料分析師的職責

HR在釋出招聘需求時，通常將資料工程、資料分析、資料探勘等崗位都統稱為資料分析崗位，但是根據工作性質的不同，又可以分為偏工程的**資料治理方向**、偏業務的**商業分析方向**、偏演算法的**資料探勘方向**、偏應用的**資料開發方向**、偏產品的**資料產品經理**。我們通常所說的資料分析師主要是指**業務資料分析師**，很多資料分析師的職業生涯都是從這個崗位開始的，而且這個崗位也是招聘數量最多的崗位。有些公司會將業務資料分析師歸屬到具體的業務部門（市場、運營、產品等），有些公司有專門的資料部門（資料分析團隊或資料科學團隊），還有些公司資料分析師會直接服務高層決策，屬於企業戰略部門。正因如此，你在招聘網站上看到的把資料分析師稱為**資料運營**、**商業分析師**、**BI工程師**就不會感到奇怪了。通常，我們在招聘網站看到的對業務資料分析師崗位職責（JD）的描述如下所示：

1. 負責相關報表的輸出。
2. 建立和最佳化指標體系。
3. 監控資料波動和異常，找出問題。
4. 最佳化和驅動業務，推動數字化運營。
5. 找出潛在的市場和產品的上升空間。

根據上面的描述，作為業務資料分析師，我們的工作不是給出一個簡單淺顯的結論，而是結合公司的業務，完成**監控資料**、**揪出異常**、**找到原因**、**探索趨勢**等工作。不管你是用 Python 語言、Excel、Tableau、SPSS或其他的商業智慧工具，工具只是達成目標的手段，**資料思維是核心技能**，從實際業務問題出發到最終**發現資料中的商業價值**是終極目標。資料分析師在很多公司只是一個基礎崗位，精於業務的資料分析師可以向**資料分析經理**或**資料運營總監**等管理崗位發展；對於熟悉機器學習演算法的資料分析師來說，可以向**資料探勘工程師**或**演算法專家**方向發展，這些崗位除了需要相應的數學和統計學知識，在程式設計能力方面也比資料分析師有更高的要求，可能還需要有大資料儲存和處理的相關經驗。

這裡順便說一下其他幾個方向，資料治理崗位主要是幫助公司建設資料倉儲或資料湖，實現資料從業務系統、埋點系統、日誌系統到資料倉儲或資料湖的轉移，為後續的資料分析和挖掘提供基礎設施。資料治理崗位對 SQL 和 HiveSQL 有著較高的要求，需要熟練的使用 ETL 工具，此外還需要對 Hadoop 生態圈有較好的認知。作為資料產品經理，除了傳統產品經理的技能棧之外，也需要較強的技術能力，例如要了解常用的推薦演算法、機器學習模型，能夠為演算法的改進提供依據，能夠制定相關埋點的規範和口徑，雖然不需要精通各種演算法，但是要站在產品的角度去考慮資料模型、指標、演算法等的落地。

### 資料分析師的技能棧

資料分析師的技能棧也包括硬技能和軟技能，以下是我對這個職位的理解，僅供參考。

1. 電腦科學（資料分析工具、程式語言、資料庫）
2. 數學和統計學（資料思維、統計思維）
3. 人工智慧（機器學習和深度學習演算法）
4. 業務理解能力（溝通、表達、經驗）
5. 總結和表述能力（總結、彙報、商業 PPT）

當然，對於一個新手來收，不可能用短時間掌握整個技能棧的內容，但是隨著這份工作的深入，上面提到的東西多多少少都會涉獵到，大家可以根據實際工作的需求去深耕其中的某個或某些技能。

### 資料分析通用流程

我們提到資料分析這個詞很多時候可能指的都是**狹義的資料分析**，這類資料分析主要目標就是生成視覺化報表並透過這些報表來洞察業務中的問題，這類工作一般都是具有滯後性的。**廣義的資料分析**還包含了資料探勘的部分，不僅要透過資料實現對業務的監控和分析，還要利用機器學習演算法，找出隱藏在資料背後的知識，並利用這些知識為將來的決策提供支撐，具備一定的前瞻性。

基本的資料分析工作一般包含以下幾個方面的內容，當然因為行業和工作內容的不同會略有差異。

1. 確定目標（輸入）：理解業務，確定指標口徑
2. 獲取資料：資料倉儲、電子表格、三方介面、網路爬蟲、開放資料集等
3. 清洗資料：缺失值、重複值、異常值的處理以及其他預處理（格式化、離散化、二值化等）
4. 資料透視：排序、統計、分組聚合、交叉表、透視表等
5. 資料呈現（輸出）：資料視覺化，釋出工作成果（資料分析報告）
6. 分析洞察（後續）：解釋資料的變化，提出對應的方案

深入的資料探勘工作通常包含以下幾個方面的內容，當然因為行業和工作內容的不同會略有差異。

1. 確定目標（輸入）：理解業務，明確挖掘目標
2. 資料準備：資料採集、資料描述、資料探索、質量判定等
3. 資料加工：提取資料、清洗資料、資料變換、特殊編碼、降維、特徵選擇等
4. 資料建模：模型比較、模型選擇、演算法應用
5. 模型評估：交叉檢驗、引數調優、結果評價
6. 模型部署（輸出）：模型落地、業務改進、運營監控、報告撰寫

### 資料分析相關庫

使用 Python 從事資料分析相關的工作是一個非常棒的選擇，首先 Python 語言非常容易上手，而且整個 Python 生態圈中，有非常多成熟的用於資料科學的軟體包和工具庫。不同於其他的資料科學程式語言（如：Julia、R等），Python 除了可以用於資料科學，還能做很多其他的事情。

#### 經典的三大神器

1. [NumPy](https://numpy.org/)：支援常見的陣列和矩陣操作，透過`ndarray`類實現了對多維陣列的封裝，提供了操作這些陣列的方法和函式。由於 NumPy 內建了並行運算功能，當使用多核 CPU 時，NumPy 會自動做平行計算。
2. [Pandas](https://pandas.pydata.org/)：pandas 的核心是其特有的資料結構`DataFrame`和`Series`，這使得 pandas 可以處理包含不同型別資料的表格和時間序列，這一點是 NumPy 的`ndarray`做不到的。使用 pandas，可以輕鬆順利的載入各種形式的資料，然後對資料進行切片、切塊、重塑、清洗、聚合、呈現等操作。
3. [Matplotlib](https://matplotlib.org/)：matplotlib 是一個包含各種繪圖模組的庫，能夠根據我們提供的資料建立高質量的圖表。此外，matplotlib 還提供了 pylab 模組，這個模組包含了很多像 [MATLAB](https://www.mathworks.com/products/matlab.html) 一樣的繪圖元件。

#### 其他相關庫

1. [SciPy](https://scipy.org/)：完善了 NumPy 的功能，封裝了大量科學計算的演算法，包括線性代數、統計檢驗、稀疏矩陣、訊號和影象處理、最最佳化問題、快速傅立葉變換等。
2. [Polars](https://pola.rs/)：一個高效能的資料分析庫，旨在提供比 pandas 更快的資料操作。它支援大規模資料處理，並能夠利用多核 CPU 來加速計算，在處理大規模資料集時可以用來替代 pandas。
3. [Seaborn](https://seaborn.pydata.org/)：seaborn 是基於 matplotlib 的圖形視覺化工具，直接使用 matplotlib 雖然可以定製出漂亮的統計圖表，但是總體來說還不夠簡單方便，seaborn 相當於是對 matplotlib 做了封裝，讓使用者能夠以更簡潔有效的方式做出各種有吸引力的統計圖表。
4. [Scikit-learn](https://scikit-learn.org/)：scikit-learn 最初是 SciPy 的一部分，提供了大量機器學習可能用到的工具，包括資料預處理、監督學習（分類、迴歸）、無監督學習（聚類）、模式選擇、交叉檢驗等。
5. [Statsmodels](https://www.statsmodels.org/stable/index.html)：包含了經典統計學和計量經濟學演算法的庫，幫助幫助使用者完成資料探索、迴歸分析、假設檢驗等任務。
6. [PySpark](https://spark.apache.org/)：Apache Spark（大資料處理引擎）的 Python 版本，用於大規模資料處理和分散式計算，能夠在分散式環境中高效地進行資料清洗、轉化和分析。
7. [Tensorflow](https://www.tensorflow.org/)：TensorFlow 是一個開源的深度學習框架，由 Google 開發，主要面向深度學習任務，常用於構建和訓練機器學習模型（尤其是複雜的神經網路模型）。
8. [Keras](https://keras.io/)：Keras 是一個高層次的神經網路 API，主要用於構建和訓練深度學習模型。Keras 適合深度學習初學者和研究人員，因為它讓構建和訓練神經網路變得更加簡單。
9. [PyTorch](https://pytorch.org/)：PyTorch 是一個開源的深度學習框架，由 Facebook 開發，廣泛用於研究和生產環境。PyTorch 是深度學習研究中的熱門框架，在計算機視覺、自然語言處理等領域得到了廣泛應用。
10. [NLTK](https://www.nltk.org/) / [SpaCy](https://spacy.io/)：自然語言處理（NLP）庫。
